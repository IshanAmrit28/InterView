{
  "name": "AI Interview Platform",
  "children": [
    {
      "name": "User Authentication",
      "children": [
        {
          "name": "Client → /signup",
          "payload": {
            "name": "John Doe",
            "email": "john@example.com",
            "password": "hashed_password"
          }
        },
        {
          "name": "Server → Response",
          "payload": {
            "message": "Signup successful",
            "userId": "601234abcd"
          }
        },
        {
          "name": "Client → /login",
          "payload": {
            "email": "john@example.com",
            "password": "hashed_password"
          }
        },
        {
          "name": "Server → Response",
          "payload": {
            "message": "Login successful",
            "token": "jwt_token",
            "userId": "601234abcd"
          }
        }
      ]
    },
    {
      "name": "Start Interview",
      "children": [
        {
          "name": "Client → /start",
          "payload": {
            "candidateId": "601234abcd",
            "role": "Frontend Developer",
            "jobDescription": "Looking for React.js developer with solid UI skills",
            "resume": "resume.pdf"
          }
        },
        {
          "name": "Server Processing",
          "children": [
            {
              "name": "Validate input and store resume temporarily"
            },
            {
              "name": "Fetch random DB questions (DBMS, OS, CN, OOP)"
            },
            {
              "name": "Call processResume (AI Processor)",
              "children": [
                {
                  "name": "Extract text from PDF"
                },
                {
                  "name": "LLM1 (OpenAI) → Resume Scoring",
                  "payload": {
                    "resume_summary": "Strong skills in React and frontend design",
                    "resume_scores": {
                      "Experience": 9,
                      "Skills": 8,
                      "Projects": 7,
                      "Education": 8
                    }
                  }
                },
                {
                  "name": "LLM2 (Gemini) → Resume-based Questions",
                  "payload": {
                    "resumeBasedQuestions": [
                      {
                        "question": "Explain React Hooks",
                        "aiScore": null
                      },
                      {
                        "question": "Difference between props and state",
                        "aiScore": null
                      },
                      {
                        "question": "What is Virtual DOM?",
                        "aiScore": null
                      }
                    ]
                  }
                },
                {
                  "name": "LLM3 (Third LLM) → Overall Evaluation",
                  "payload": {
                    "final_evaluation": {
                      "overall_rating": "Good",
                      "feedback": "Candidate shows good frontend skills",
                      "recommendation": "Consider"
                    }
                  }
                }
              ]
            },
            {
              "name": "Build reportStructure (DB questions + AI outputs)"
            },
            {
              "name": "Save report in DB (without candidate answers)"
            },
            {
              "name": "Delete temporary resume"
            }
          ]
        },
        {
          "name": "Server → Response",
          "payload": {
            "message": "Interview started successfully",
            "reportId": "690f158f3abd66ab66dc46ad",
            "candidateId": "601234abcd",
            "reportStructure": {
              "DBMS": [
                {
                  "questionId": "...",
                  "question": "Explain BCNF",
                  "aiScore": null
                }
              ],
              "OS": [
                {
                  "questionId": "...",
                  "question": "What is deadlock?",
                  "aiScore": null
                }
              ],
              "CN": [],
              "OOP": [],
              "resume_summary": "Strong skills in React and frontend design",
              "resume_scores": {
                "Experience": 9,
                "Skills": 8,
                "Projects": 7,
                "Education": 8
              },
              "resumeBasedQuestions": [
                {
                  "question": "Explain React Hooks",
                  "aiScore": null
                },
                {
                  "question": "Difference between props and state",
                  "aiScore": null
                },
                {
                  "question": "What is Virtual DOM?",
                  "aiScore": null
                }
              ],
              "final_evaluation": {
                "overall_rating": "Good",
                "feedback": "Candidate shows good frontend skills",
                "recommendation": "Consider"
              }
            }
          }
        }
      ]
    },
    {
      "name": "End Interview",
      "children": [
        {
          "name": "Client → /end",
          "payload": {
            "reportId": "690f158f3abd66ab66dc46ad",
            "candidateId": "601234abcd",
            "reportStructure": {
              "DBMS": [
                {
                  "questionId": "...",
                  "aiScore": 7
                },
                {
                  "questionId": "...",
                  "aiScore": 6
                }
              ],
              "OS": [
                {
                  "questionId": "...",
                  "aiScore": 10
                }
              ],
              "resumeBasedQuestions": [
                {
                  "question": "Explain React Hooks",
                  "aiScore": 8
                },
                {
                  "question": "Difference between props and state",
                  "aiScore": 9
                }
              ],
              "ResumeScore": 80,
              "overallScore": 85,
              "feedbackOnInterviewAnswers": {
                "strengths": [
                  "Good technical knowledge"
                ],
                "weaknesses": [
                  "Needs to improve CSS"
                ]
              },
              "feedbackOnResume": {
                "strengths": [
                  "Projects well explained"
                ],
                "weaknesses": [
                  "Skills section missing some keywords"
                ]
              },
              "hiringChance": "Consider"
            }
          }
        },
        {
          "name": "Server Processing",
          "children": [
            {
              "name": "Merge AI scores, feedback, final evaluation"
            },
            {
              "name": "Do NOT store candidate answers in DB"
            },
            {
              "name": "Save report in DB"
            },
            {
              "name": "Cleanup temporary resume"
            }
          ]
        },
        {
          "name": "Server → Response",
          "payload": {
            "message": "Interview ended and report updated successfully",
            "reportId": "690f158f3abd66ab66dc46ad"
          }
        }
      ]
    },
    {
      "name": "View Report",
      "children": [
        {
          "name": "Client → /viewreport/:reportId",
          "payload": {
            "reportId": "690f158f3abd66ab66dc46ad"
          }
        },
        {
          "name": "Server Processing",
          "children": [
            {
              "name": "Fetch report from DB by reportId"
            },
            {
              "name": "Return AI outputs and scores only"
            }
          ]
        },
        {
          "name": "Server → Response",
          "payload": {
            "reportId": "690f158f3abd66ab66dc46ad",
            "candidateId": "601234abcd",
            "reportStructure": {
              "DBMS": [
                {
                  "questionId": "...",
                  "question": "Explain BCNF",
                  "aiScore": 7
                }
              ],
              "OS": [
                {
                  "questionId": "...",
                  "question": "What is deadlock?",
                  "aiScore": 10
                }
              ],
              "CN": [],
              "OOP": [],
              "resumeBasedQuestions": [
                {
                  "question": "Explain React Hooks",
                  "aiScore": 8
                },
                {
                  "question": "Difference between props and state",
                  "aiScore": 9
                }
              ],
              "ResumeScore": 80,
              "overallScore": 85,
              "feedbackOnInterviewAnswers": {
                "strengths": [
                  "Good technical knowledge"
                ],
                "weaknesses": [
                  "Needs to improve CSS"
                ]
              },
              "feedbackOnResume": {
                "strengths": [
                  "Projects well explained"
                ],
                "weaknesses": [
                  "Skills section missing some keywords"
                ]
              },
              "hiringChance": "Consider"
            }
          }
        }
      ]
    }
  ]
}